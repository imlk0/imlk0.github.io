<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Codeforces 429B B.Working out | imlk's blog</title><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/css/fonts.css><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;700&display=swap" rel=stylesheet></head><body><header class=header><a class=logo href=/>imlk's Blog</a><nav><ul class=menu><li><a href=/>ğŸ Home</a></li><li><a href=/about/>ğŸ‘‹About</a></li><li><a href=/archives/>ğŸ“œArchives</a></li><li><a href=/friends/>ğŸ”—Friends</a></li><li><a href=/dn42/>ğŸ•¸ï¸DN42</a></li><li><a href=/index.xml>ğŸ“¢Subscribe</a></li></ul></nav></header><hr><div class=article-meta><h1><span class=title>Codeforces 429B B.Working out</span></h1><span><span class=date>ğŸ“… 2018-01-09</span>
<span class=date>(æ›´æ–°äº2021-10-10)</span>
/
<span class=cats>ğŸ“š
<a href=https://blog.imlk.top/categories/algorithm/>Algorithm</a></span>
/
<span class=tags>ğŸ·ï¸
<a href=https://blog.imlk.top/tags/codeforces/>#Codeforces</a>
<a href=https://blog.imlk.top/tags/dp/>#dp</a></span></span><br></div><main><p><a href=http://codeforces.com/problemset/problem/429/B>http://codeforces.com/problemset/problem/429/B</a>
å¯¹äºé¢˜ä¸­åˆé’»çš„è¦æ±‚ï¼Œä»”ç»†åˆ†ææ‰€ç»™æ¡ä»¶çš„ç­‰ä»·æ¡ä»¶ï¼Œæœ‰æ—¶å€™ï¼Œæ‰€ç»™æ¡ä»¶ç¬¦åˆçš„æƒ…å½¢åªæœ‰å¾ˆå°‘çš„å‡ ç§ã€‚</p><p><a href=http://blog.csdn.net/cc_again/article/details/25691925>http://blog.csdn.net/cc_again/article/details/25691925</a></p><pre tabindex=0><code>é¢˜ç›®æ„æ€ï¼š
ç»™n*mçš„çŸ©é˜µï¼Œæ¯ä¸ªæ ¼å­æœ‰ä¸ªæ•°ï¼ŒAä»(1,1)å‡ºå‘åªèƒ½å‘ä¸‹æˆ–å³èµ°ï¼Œç»ˆç‚¹ä¸º(n,m)ï¼ŒBä»(n,1)å‡ºå‘åªèƒ½å‘ä¸Šæˆ–å³èµ°ï¼Œç»ˆç‚¹ä¸º(1,m)ã€‚ä¸¤ä¸ªäººçš„é€Ÿåº¦ä¸ä¸€æ ·ï¼Œèµ°åˆ°çš„æ ¼å­å¯ä»¥è·çš„è¯¥æ ¼å­çš„æ•°ï¼Œä¸¤äººç›¸é‡çš„æ ¼å­ä¸Šçš„æ•°ä¸¤ä¸ªäººéƒ½ä¸èƒ½æ‹¿ã€‚æ±‚Aå’ŒBèƒ½æ‹¿åˆ°çš„æ•°çš„æ€»å’Œçš„æœ€å¤§å€¼ã€‚
n,m&lt;=1000
è§£é¢˜æ€è·¯ï¼š
dp.
å…ˆé¢„å¤„ç†å‡ºæ¯ä¸ªæ ¼å­åˆ°å››ä¸ªè§’è½æ ¼å­çš„è·¯å¾„æœ€å¤§æ•°å€¼ï¼Œç„¶åæšä¸¾ä¸¤ä¸ªäººç›¸é‡çš„äº¤ç‚¹æ ¼å­ï¼Œæšä¸¾Aã€Bçš„è¿›æ¥å’Œå‡ºå»æ–¹å¼ï¼Œæ±‚æœ€å¤§å€¼å³å¯ã€‚
æ³¨æ„è¾¹ç•Œæƒ…å†µã€‚
</code></pre><pre tabindex=0><code>#include &lt;cstdio&gt;
#include &lt;algorithm&gt;

using namespace std;

#define MAX 1005

long data[MAX][MAX];
long dp0[MAX][MAX];
long dp1[MAX][MAX];
long dp2[MAX][MAX];
long dp3[MAX][MAX];

int main() {

	int n, m;

	scanf(&#34;%d%d&#34;, &amp;n, &amp;m);

	for (int x = 1; x &lt;= n; x++) {

		for (int y = 1; y &lt;= m; y++) {

			scanf(&#34;%ld&#34;, data[x] + y);
		}
	}

	for (int x = 1; x &lt;= n; x++) {
		for (int y = 1; y &lt;= m; y++) {
			dp0[x][y] = data[x][y] + max(dp0[x - 1][y] , dp0[x][y - 1]);
		}
	}
	for (int x = n; x &gt;= 1; x--) {
		for (int y = m; y &gt;= 1; y--) {
			dp1[x][y] = data[x][y] + max(dp1[x + 1][y] , dp1[x][y + 1]);
		}
	}

	for (int x = n; x &gt;= 1; x--) {
		for (int y = 1; y &lt;= m; y++) {
			dp2[x][y] = data[x][y] + max(dp2[x + 1][y] , dp2[x][y - 1]);
		}
	}
	for (int x = 1; x &lt;= n; x++) {
		for (int y = m; y &gt;= 1; y--) {
			dp3[x][y] = data[x][y] + max(dp3[x - 1][y] , dp3[x][y + 1]);
		}
	}

	long largest = 0;
	for (int x = 2; x &lt; n; x++) {
		for (int y = 2; y &lt; m; y++ ) {

			/**
			* ç”±äºè·¯å¾„åªå…è®¸é‡å ä¸€æ¬¡ï¼Œæ ¹æ®ä¸¤äººçš„è¡ŒåŠ¨æ–¹å‘å¯çŸ¥ï¼Œé‡å æ—¶
			* è¦ä¹ˆæ˜¯ç¬¬ä¸€ä¸ªäººä»ä¸Šå‘ä¸‹é€šè¿‡ï¼Œç¬¬äºŒä¸ªäººä»å·¦å‘å³é€šè¿‡
			* è¦ä¹ˆæ˜¯ç¬¬ä¸€ä¸ªäººä»å·¦å‘å³é€šè¿‡ï¼Œç¬¬äºŒä¸ªäººä»ä¸‹å‘ä¸Šé€šè¿‡
			*/
			largest = max(largest, dp0[x - 1][y] + dp1[x + 1][y] + dp2[x][y - 1] + dp3[x][y + 1]);
			largest = max(largest, dp0[x][y - 1] + dp1[x][y + 1] + dp2[x + 1][y] + dp3[x - 1][y]);

		}
	}

	printf(&#34;%ld\n&#34;, largest);

	return 0;
}
</code></pre></main><div id=comments><hr><script src=https://utteranc.es/client.js repo=KB5201314/KB5201314.github.io issue-term=pathname label='ğŸ’¬ comments ğŸ’¬' theme=github-light crossorigin=anonymous async></script></div><footer><hr>Â© imlk 2017 &ndash; 2021 | <a href=https://blog.imlk.top>imlk's blog</a> | <a href=https://github.com/KB5201314/>Github</a> | <a href=mailto:me@imlk.top>Email</a> | <a href=https://beian.miit.gov.cn/>äº¬ICPå¤‡ - 2020042968å·</a></footer></body></html>